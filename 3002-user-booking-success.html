<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ƒê·∫∑t V√© Th√†nh C√¥ng - Cinema Booking</title>
  
  <!-- CSS -->
  <link rel="stylesheet" href="/Booking-service/frontend/css/booking-success.css">
  
</head>
<body>
  <div class="container">
    <div class="card" id="contentCard">
      <!-- Loading State -->
      <div class="loading" id="loadingState">
        <div class="spinner"></div>
        <p style="color: #666; font-size: 1.1em;">ƒêang t·∫£i th√¥ng tin ƒë·∫∑t v√©...</p>
      </div>

      <!-- Success Content -->
      <div style="display: none;" id="successContent">
        <div class="success-header">
          <div class="success-icon">‚úÖ</div>
          <h1>ƒê·∫∑t V√© Th√†nh C√¥ng!</h1>
          <p>C·∫£m ∆°n b·∫°n ƒë√£ ƒë·∫∑t v√©</p>
        </div>

        <div class="booking-code">
          <div class="booking-code-label">M√É ƒê·∫∂T V√â</div>
          <div class="booking-code-value" id="bookingCodeDisplay">-</div>
        </div>

        <div class="alert">
          <strong>L∆∞u √Ω:</strong> Vui l√≤ng ƒë·∫øn qu·∫ßy tr∆∞·ªõc gi·ªù chi·∫øu 15 ph√∫t ƒë·ªÉ nh·∫≠n v√©.
        </div>

        <!-- Movie Info -->
        <div class="section">
          <h3 class="section-title">Th√¥ng Tin Phim</h3>
          <div class="info-row">
            <div class="info-label">T√™n Phim:</div>
            <div class="info-value" id="movieName">-</div>
          </div>
          <div class="info-row">
            <div class="info-label">R·∫°p Chi·∫øu:</div>
            <div class="info-value" id="cinema">-</div>
          </div>
          <div class="info-row">
            <div class="info-label">Ng√†y Chi·∫øu:</div>
            <div class="info-value" id="showtimeDate">-</div>
          </div>
          <div class="info-row">
            <div class="info-label">Gi·ªù Chi·∫øu:</div>
            <div class="info-value" id="showtimeTime">-</div>
          </div>
        </div>

        <!-- Seats -->
        <div class="section">
          <h3 class="section-title">Gh·∫ø ƒê√£ ƒê·∫∑t</h3>
          <div class="seats-container" id="seatsContainer"></div>
        </div>

        <!-- Combos -->
        <div class="section" id="combosSection" style="display: none;">
          <h3 class="section-title">Combo ƒê·ªì ƒÇn</h3>
          <div id="combosContainer"></div>
        </div>

        <!-- Customer Info -->
        <div class="section">
          <h3 class="section-title">Th√¥ng Tin Kh√°ch H√†ng</h3>
          <div class="info-row">
            <div class="info-label">H·ªç T√™n:</div>
            <div class="info-value" id="customerName">-</div>
          </div>
          <div class="info-row">
            <div class="info-label">S·ªë ƒêi·ªán Tho·∫°i:</div>
            <div class="info-value" id="customerPhone">-</div>
          </div>
          <div class="info-row">
            <div class="info-label">Email:</div>
            <div class="info-value" id="customerEmail">-</div>
          </div>
        </div>

        <!-- Payment Info -->
        <div class="section">
          <h3 class="section-title">Thanh To√°n</h3>
          <div class="info-row">
            <div class="info-label">Ph∆∞∆°ng Th·ª©c:</div>
            <div class="info-value" id="paymentMethod">-</div>
          </div>
          <div class="info-row">
            <div class="info-label">Tr·∫°ng Th√°i:</div>
            <div class="info-value">
              <span class="payment-status" id="paymentStatus">-</span>
            </div>
          </div>

          <div class="price-summary">
            <div class="price-row">
              <span>Ti·ªÅn v√©:</span>
              <span id="subTotal">-</span>
            </div>
            <div class="price-row" id="comboTotalRow" style="display: none;">
              <span>Combo:</span>
              <span id="comboTotal">-</span>
            </div>
            <div class="price-row" id="discountRow" style="display: none;">
              <span>Gi·∫£m gi√°:</span>
              <span style="color: #10b981;" id="discount">-</span>
            </div>
            <div class="price-row total">
              <span>T·ªîNG C·ªòNG:</span>
              <span id="totalAmount">-</span>
            </div>
          </div>
        </div>

        <div class="alert alert-warning" id="unpaidAlert" style="display: none;">
          <strong>Ch∆∞a thanh to√°n:</strong> Vui l√≤ng thanh to√°n t·∫°i qu·∫ßy khi nh·∫≠n v√©.
        </div>

        <!-- Actions -->
        <div class="actions">
          <button class="btn btn-primary" onclick="window.print()">üñ®Ô∏è In V√©</button>
          <button class="btn btn-primary" onclick="downloadTicket()">üì• T·∫£i V√©</button>
          <button class="btn btn-secondary" onclick="window.location.href='/'">üè† V·ªÅ Trang Ch·ªß</button>
        </div>
      </div>

      <!-- Error Content -->
      <div style="display: none;" id="errorContent">
        <div class="error-message">
          <h2>‚ùå Kh√¥ng T√¨m Th·∫•y</h2>
          <p id="errorMessage">Kh√¥ng t√¨m th·∫•y th√¥ng tin ƒë·∫∑t v√©.</p>
          <button class="btn btn-primary" onclick="window.location.href='/'" style="margin-top: 20px;">
            V·ªÅ Trang Ch·ªß
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- QRCode.js Library - Load tr∆∞·ªõc -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  
  <!-- JavaScript - Load sau -->
  <script src="/Booking-service/frontend/js/booking-success.js"></script>
</body>
</html>