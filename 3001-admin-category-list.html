<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quản lý danh mục</title>
  <link rel="stylesheet" href="/Booking-service/frontend/css/adminstyle.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
  <link rel="stylesheet" href="https://unpkg.com/filepond@^4/dist/filepond.css">
  <link rel="stylesheet" href="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css">
  <!-- TinyMCE - CDN miễn phí, không cần API key -->
  <script src="https://cdn.jsdelivr.net/npm/tinymce@6/tinymce.min.js"></script>
</head>
<body>
    <div id="header-placeholder"></div>

  <!-- Placeholder cho sider -->
    <div id="sider-placeholder"></div>
    <main class="main">
        <h1 class="box-title">Quản lý danh mục</h1>

        <!-- Section 4 - Bộ lọc -->
        <div class="section-4">
            <div class="inner-wrap">
                <div class="inner-item inner-label">
                    <i class="fa-solid fa-filter"></i> Bộ lọc
                </div>
                <div class="inner-item">
                    <select filter-status>
                        <option value="">Trạng thái</option>
                        <option value="active">Hoạt động</option>
                        <option value="inactive">Tạm dừng</option>
                    </select>
                </div>
                <div class="inner-item">
                    <select filter-created-by>
                        <option value="">Người tạo</option>
                        <!-- Dynamic options will be populated by JavaScript -->
                    </select>
                </div>
                <div class="inner-item inner-date">
                    <input type="date" filter-start-date>
                    <span>-</span>
                    <input type="date" filter-end-date>
                </div>
                <div class="inner-item inner-reset" filter-reset>
                    <i class="fa-solid fa-rotate-left"></i> Xóa bộ lọc
                </div>
            </div>
        </div>
        <!-- End Section 4 -->

        <!-- Section 5 - Hành động và tìm kiếm -->
        <div class="section-5">
            <div class="inner-wrap">
                <div class="inner-change-status" change-multi data-api="">
                    <div class="inner-item">
                        <select>
                            <option value="">-- Hành động --</option>
                            <option value="active">Hoạt động</option>
                            <option value="inactive">Dừng hoạt động</option>
                            <option value="delete">Xóa</option>
                        </select>
                    </div>
                    <div class="inner-item">
                        <button>Áp dụng</button>
                    </div>
                </div>
                <div class="inner-search">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="text" placeholder="Tìm kiếm" search>
                </div>
                <div class="inner-button-create">
                    <a href="">Tạo mới</a>
                </div>
            </div>
        </div>
        <!-- End Section 5 -->

        <!-- Section 6 - Bảng danh mục -->
        <div class="section-6">
            <div class="table-2">
                <table>
                    <thead>
                        <tr>
                            <th class="inner-center">
                                <input type="checkbox" class="inner-check" check-all>
                            </th>
                            <th>Tên danh mục</th>
                            <th>Ảnh đại diện</th>
                            <th class="inner-center">Vị trí</th>
                            <th class="inner-center">Trạng thái</th>
                            <th>Tạo bởi</th>
                            <th>Cập nhật bởi</th>
                            <th>Hành động</th>
                        </tr>
                    </thead>
                    <tbody id="categoryTableBody">
                        <!-- Dynamic rows will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        <!-- End Section 6 -->

        <!-- Section 7 - Phân trang -->
        <div class="section-7">
            <span class="inner-label" id="paginationLabel">
                Hiển thị 0 - 0 của 0
            </span>
            <select class="inner-pagination" pagination>
                <!-- Dynamic options will be populated by JavaScript -->
            </select>
        </div>
        
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script src="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js"></script>
        <script src="https://unpkg.com/filepond@^4/dist/filepond.js"></script>

        <script>
            fetch('adminpartials/header.html')
    .then(response => response.text())
    .then(html => document.getElementById('header-placeholder').innerHTML = html)
    .catch(err => console.error('Lỗi load header:', err));

// Load sider + gắn event menu mobile (chỉ sau khi load xong)
fetch('adminpartials/sider.html')
    .then(response => response.text())
    .then(html => {
    document.getElementById('sider-placeholder').innerHTML = html;

    // Gắn sự kiện menu mobile ngay sau khi insert HTML
    const buttonMenu = document.querySelector('.inner-button-menu');
    const sider = document.querySelector('.sider');
    const overlay = document.querySelector('.sider-overlay');

    if (buttonMenu && sider && overlay) {
        buttonMenu.addEventListener('click', () => {
        sider.classList.add('active');
        overlay.classList.add('active');
        });

        overlay.addEventListener('click', () => {
        sider.classList.remove('active');
        overlay.classList.remove('active');
        });
    } else {
        console.warn('Không tìm thấy các element menu mobile');
    }
    })
    .catch(err => console.error('Lỗi load sider:', err));
        </script>
        <!-- End Section 7 -->

        <script src="/Booking-service/frontend/js/3002-scripts.js"></script>
    </main>

    
</body>
</html>